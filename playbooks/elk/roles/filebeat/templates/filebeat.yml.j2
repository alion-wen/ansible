filebeat:
  prospectors:
    -
      paths:
        - /data0/logs/nginx/*.access.log
      input_type: log
      ignore_older: 24h
      close_older: 1h
      scan_frequency: 10s
      backoff: 1s
      max_backoff: 10s
      backoff_factor: 2
  spool_size: 2048
  idle_timeout: 5s
  registry_file: /var/lib/filebeat/.filebeat
output:
  enabled: true
  hosts: ["{{ kafka_host }}:{{ kafka_port }}"]
  topic: beats
  worker: 1
  max_retries: 3
  bulk_max_size: 2048
  timeout: 30s
  broker_timeout: 10s
  channel_buffer_size: 256
  keep_alive: 60s
  compression: gzip
  max_message_bytes: 1000000
  required_acks: 1
  flush_interval: 10s
  client_id: beats
#  redis:
#    host: "{{ redis_host }}"
#    port: {{ redis_port }}
#    password: "{{ redis_passwd }}"
#    db: 0
#    index: filebeat
#    timeout: 5
#    reconnect_interval: 1
    
